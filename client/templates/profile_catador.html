
<template name="catadorprofile">
  {{> Nav}}

  <div class="container-responsive">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-body">
              {{#if Template.subscriptionsReady}}
                {{> catadorDetails}}
              {{else}}
                {{> loadingcatadorprofile}}
              {{/if}}
            </div> <!-- /panel-body -->
          </div> <!-- /panel -->
        </div>
      </div> <!-- /row -->
 
    </div> <!-- /container-fluid -->
  </div> <!-- /container-responsive -->
</template>


<!-- while subscriptions are loading, display this -->
<template name="loadingcatadorprofile">
  Loading catador profile
</template>

<template name="catadorDetails">
  <div class="row">
    <div class="col-md-12 text-center">
      <div class="image-container">
        <!-- {{> imageView}} --> 
        <!-- PLACEHOLDER TO SEE WHAT IMAGE POSITIONING LOOKS LIKE NOW,
        Before getting pictures from catadores -->
        <a href="/img/pimp.png" target="_blank"><img class="img-circle avatar avatar-original" 
        style="-webkit-user-select:none; display:block; margin:auto;" 
        src="/img/pimp.png" alt=""></a>     
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-12">
      <h1 class="only-bottom-margin text-center">{{name}}</h1>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-12">
      <hr>
      <span class="text-muted">Telefone 1: </span>{{telephone1}} {{operator_telephone1}}
      {{#if whatsapp1}}
        <i class="fa fa-whatsapp"></i>
      {{/if}}
      <br>
      <span class="text-muted">Telefone 2: </span>{{telephone2}} {{operator_telephone2}}<br>
      {{#if whatsapp2}}
        <i class="fa fa-whatsapp"></i>
      {{/if}}
      <br>
      <span class="text-muted">Region: </span>{{region}}<br>
      <span class="text-muted">Utiliza ve√≠culo motorizada? </span>{{motorizedVehicle}}<br>

    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <hr>
      <div class="profile-services">
        <h4>Services</h4>
        {{services}}
        <!-- Images are placeholders. TODO: use better icons in helper function services.
        Return images conditional on services offered by the catador. -->
        <img href="/img/metals.png" src="/img/metals.png" alt="service-icon-metals">
        <img src="/img/recyclables.png">
        <img src="/img/trash.png">
        <button class="btn btn-default pull-right profile-button-services"><i class="glyphicon glyphicon-info-sign"></i></button>
      </div>
      <hr>
      <button class="btn btn-default pull-right profile-button-update"><i class="glyphicon glyphicon-pencil"></i> Atualizar</button>
    </div>
  </div> <!-- /row -->
</template>

<template name="imageView">
  {{#each images}}
    <div>
      <a href="{{this.url}}" target="_blank"><img class="img-circle avatar avatar-original" 
        style="-webkit-user-select:none; display:block; margin:auto;" 
        src="{{this.url}}" alt=""></a>        
    </div>
  {{/each}}
</template>



<template name="exampleModal">
    <div class="modal fade modal-services-info">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <h4 class="modal-title">Modal example</h4>
                </div>

                <div class="modal-body">
                    <p>A modal example.</p>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>
</template>